/*! jrl-utils, built 2016-04-30T09:31:59-0400 | (C) 2016 Jeff Lambert | License: MIT */
!function(){"use strict";var app=angular.module("jrl.utils",[]);app.factory("common",[function(){function getLogFn(locality,level){function logSuccess(msg,context){enableDebugLogging&&console.log("["+locality+"][success] "+msg,context)}function logInfo(msg,context){enableDebugLogging&&console.info("["+locality+"][info] "+msg,context)}function logError(msg,context){enableDebugLogging&&console.error("["+locality+"][error] "+msg,context)}function logWarn(msg,context){msg="["+locality+"][warning] "+msg,enableDebugLogging&&(console.warn?console.warn(msg,context):console.log(msg,context))}switch(level){case"success":return logSuccess;case"info":return logInfo;case"warn":return logWarn;case"error":default:return logError}}function isEmptyObject(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0}function queryStringToJson(query){var pairs=query.split("&"),result={};return pairs.forEach(function(pair){pair=pair.split("="),result[pair[0]]=decodeURIComponent(pair[1]||"")}),JSON.parse(JSON.stringify(result))}var enableDebugLogging=!0,svc={getLogFn:getLogFn,isEmptyObject:isEmptyObject,queryStringToJson:queryStringToJson};return svc}]),app.factory("localStorage",["$window",function($window){return{set:function(key,value){$window.localStorage.setItem(key,value)},get:function(key,defaultValue){return $window.localStorage[key]||defaultValue},setObject:function(key,value){$window.localStorage.setItem(key,JSON.stringify(value))},getObject:function(key){return JSON.parse($window.localStorage[key]||"{}")},clear:function(key){return $window.localStorage.removeItem(key)},space:function(){var length=0;return Object.keys($window.localStorage).forEach(function(key){length+=$window.localStorage[key].length}),length},keys:function(){return Object.keys($window.localStorage)}}}]),app.factory("sessionStorage",["$window",function($window){return{set:function(key,value){$window.sessionStorage[key]=value},get:function(key,defaultValue){return $window.sessionStorage[key]||defaultValue},setObject:function(key,value){$window.sessionStorage[key]=JSON.stringify(value)},getObject:function(key){return JSON.parse($window.sessionStorage[key]||"{}")},clear:function(key){return $window.sessionStorage.removeItem(key)}}}]),Array.prototype.contains=function(needle){for(var i in this)if(this.hasOwnProperty(i)&&this[i]===needle)return!0;return!1}}();